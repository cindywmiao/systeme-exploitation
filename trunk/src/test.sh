#!/bin/bash

make clean
make

count=0
./create-many 4000 > la
if [ $? = "0" ];
then 
	count=$(( $count + 1 ))
	echo "test create-many OK"
else
	echo "test create-many échoué"
fi

./create-many-recursive 4000 > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test create-many-recursive OK"
else
	echo "test create-many-recursive échoué"
fi

./exemple > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test exemple OK"
else
	echo "test exemple échoué"
fi

./fibonacci 15 > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test fibonacci OK"
else
	echo "test fibonacci échoué"
fi

./join > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test join OK"
else
	echo "test join échoué"
fi

./join-main > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test join-main OK"
else
	echo "test join-main échoué"
fi

./main > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test main OK"
else
	echo "test main échoué"
fi

./switch > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test switch OK"
else
	echo "test switch échoué"
fi

./switch-many 500 500 > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test switch-many OK"
else
	echo "test switch-many échoué"
fi

./switch-many-join 500 500 > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test switch-many-join OK"
else
	echo "test switch-many-join échoué"
fi

./test_prio > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test test_prio OK"
else
	echo "test test_prio échoué"
fi

./test_spin > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test test_spin OK"
else
	echo "test test_spin échoué"
fi

./tri 5 > la

if [ $? = 0 ];
then
	count=$(( $count + 1 ))
	echo "test tri OK"
else
	echo "test tri échoué"
fi

echo "$count/13 tests OK"