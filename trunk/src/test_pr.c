#include "thread.h"
#include <stdio.h>
#include <assert.h>
#include <unistd.h>

static void * threadfunc(void *str)
{
  int i;
  for (i=0; i<6; i++){
    printf("je suis  %s\n", (char *)str);
    sleep(2);
    
  }
  printf("ici\n");
}
int main()
{
  struct thread_t thread1;
  struct thread_t thread2;
  int i;  
  int err;

  printf("le main lance 2 threads...\n");
  err = thread_create(&thread1, threadfunc, "thread1");
  err = thread_create(&thread2, threadfunc, "thread2");
  assert(!err);
  
  for (i=0; i<6; i++){
    printf("main, %d\n", i);
    sleep(5);
  }
  return 0;
}
